---
import BookingModal from '../components/BookingModal/index.svelte';
---

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{Astro.props.title || 'Sky White Car Rental'}</title>
  <link rel="stylesheet" href="/src/styles/global.css" />
</head>
<body>
  <header><!-- ... --></header>
  
  <main>
    <slot />
  </main>
  
  <footer><!-- ... --></footer>
  
  <!-- Modal tanpa props -->
  <BookingModal client:load />
  
  <script>
    // Type assertion untuk bypass TypeScript
    (window as any).openBookingModal = function(carData) {
      document.dispatchEvent(new CustomEvent('open-booking-modal', {
        detail: { carData }
      }));
    };
    
    (window as any).closeBookingModal = function() {
      document.dispatchEvent(new CustomEvent('close-booking-modal'));
    };
  </script>
</body>
</html>